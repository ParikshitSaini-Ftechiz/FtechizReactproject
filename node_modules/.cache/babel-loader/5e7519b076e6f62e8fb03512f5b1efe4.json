{"ast":null,"code":"var _jsxFileName = \"/home/hp-pc08/Desktop/project/e_commerce_website/src/components/context/productContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n//context API//\n// create context\n// provider\n//consumer => useContext hook\nimport axios from 'axios';\nimport React, { useReducer, useEffect } from 'react';\nimport reducer from '../reducer/productReducer';\nimport { createContext, useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = \"https://api.pujakaitem.com/api/products\";\nconst AppContext = /*#__PURE__*/createContext();\nconst initialState = {\n  isLoading: false,\n  isError: false,\n  products: [],\n  featureProducts: [],\n  isSingleLoading: false,\n  singleProduct: {}\n};\nconst AppProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const getProducts = async url => {\n    dispatch({\n      type: \"SET_LOADING\"\n    });\n    try {\n      const res = await axios.get(url);\n      const products = await res.data;\n      dispatch({\n        type: \"SET_API_DATA\",\n        payload: products\n      });\n    } catch (error) {\n      dispatch({\n        type: \"API_ERROR\"\n      });\n    }\n  };\n\n  //my 2nd API call for single product//\n  const getSingleProduct = async url => {\n    dispatch({\n      type: \"SET_SINGLE_LOADING\"\n    });\n    try {\n      const res = await axios.get(url);\n      const singleProduct = await res.data;\n      dispatch({\n        type: \"SET_SINGLE_PRODUCT_DATA\",\n        payload: singleProduct\n      });\n    } catch (error) {\n      dispatch({\n        type: \"API_SINGLE_PRODUCT_ERROR\"\n      });\n    }\n  };\n  useEffect(() => {\n    getProducts(API);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      ...state,\n      getSingleProduct\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 11\n  }, this);\n};\n\n// custom hook//\n_s(AppProvider, \"4cKwm4e/WNzAOZJgUBlf2fz6gAo=\");\n_c = AppProvider;\nconst useProductContext = () => {\n  _s2();\n  return useContext(AppContext);\n};\n_s2(useProductContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { AppProvider, AppContext, useProductContext };\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["axios","React","useReducer","useEffect","reducer","createContext","useContext","API","AppContext","initialState","isLoading","isError","products","featureProducts","isSingleLoading","singleProduct","AppProvider","children","state","dispatch","getProducts","url","type","res","get","data","payload","error","getSingleProduct","useProductContext"],"sources":["/home/hp-pc08/Desktop/project/e_commerce_website/src/components/context/productContext.js"],"sourcesContent":["//context API//\n// create context\n// provider\n//consumer => useContext hook\nimport axios from 'axios';\nimport React, { useReducer ,useEffect} from 'react';\nimport reducer from '../reducer/productReducer';\n\nimport {createContext,useContext } from 'react';\n\nconst API = \"https://api.pujakaitem.com/api/products\";\n    const AppContext = createContext();\n\n    const initialState = {\n        isLoading : false,\n        isError : false ,\n        products : [],\n        featureProducts:[],\n        isSingleLoading:false,\n        singleProduct:{},\n    }\n\n    const AppProvider = ({children}) =>{\n        const [state , dispatch] = useReducer(reducer, initialState);\n\n        const getProducts = async (url) => {\n\n            dispatch({type:\"SET_LOADING\"});\n          try {\n             const res = await axios.get(url);\n            const products = await res.data;\n            dispatch({type:\"SET_API_DATA\", payload:products});\n        }catch(error){\n            dispatch({type:\"API_ERROR\"});\n        }\n        };\n\n\n        //my 2nd API call for single product//\n         const getSingleProduct = async (url) => {\n            dispatch({type:\"SET_SINGLE_LOADING\"});\n            try{\n                const res = await axios.get(url);\n                const singleProduct = await res.data;\n                dispatch({type:\"SET_SINGLE_PRODUCT_DATA\", payload:singleProduct});\n            }catch(error){\n                dispatch({type:\"API_SINGLE_PRODUCT_ERROR\"});\n            }\n         }\n         \n\n        useEffect(() => {\n            getProducts(API) ;\n         }, []);\n        return (\n          <AppContext.Provider value={{...state ,getSingleProduct}}>{children}</AppContext.Provider>\n        )\n    }\n\n    // custom hook//\n    const useProductContext = () =>{\n\n        return  useContext(AppContext);\n    }\n\n\nexport {AppProvider,AppContext,useProductContext} ;"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,UAAU,EAAEC,SAAS,QAAO,OAAO;AACnD,OAAOC,OAAO,MAAM,2BAA2B;AAE/C,SAAQC,aAAa,EAACC,UAAU,QAAQ,OAAO;AAAC;AAEhD,MAAMC,GAAG,GAAG,yCAAyC;AACjD,MAAMC,UAAU,gBAAGH,aAAa,EAAE;AAElC,MAAMI,YAAY,GAAG;EACjBC,SAAS,EAAG,KAAK;EACjBC,OAAO,EAAG,KAAK;EACfC,QAAQ,EAAG,EAAE;EACbC,eAAe,EAAC,EAAE;EAClBC,eAAe,EAAC,KAAK;EACrBC,aAAa,EAAC,CAAC;AACnB,CAAC;AAED,MAAMC,WAAW,GAAG,QAAe;EAAA;EAAA,IAAd;IAACC;EAAQ,CAAC;EAC3B,MAAM,CAACC,KAAK,EAAGC,QAAQ,CAAC,GAAGjB,UAAU,CAACE,OAAO,EAAEK,YAAY,CAAC;EAE5D,MAAMW,WAAW,GAAG,MAAOC,GAAG,IAAK;IAE/BF,QAAQ,CAAC;MAACG,IAAI,EAAC;IAAa,CAAC,CAAC;IAChC,IAAI;MACD,MAAMC,GAAG,GAAG,MAAMvB,KAAK,CAACwB,GAAG,CAACH,GAAG,CAAC;MACjC,MAAMT,QAAQ,GAAG,MAAMW,GAAG,CAACE,IAAI;MAC/BN,QAAQ,CAAC;QAACG,IAAI,EAAC,cAAc;QAAEI,OAAO,EAACd;MAAQ,CAAC,CAAC;IACrD,CAAC,QAAMe,KAAK,EAAC;MACTR,QAAQ,CAAC;QAACG,IAAI,EAAC;MAAW,CAAC,CAAC;IAChC;EACA,CAAC;;EAGD;EACC,MAAMM,gBAAgB,GAAG,MAAOP,GAAG,IAAK;IACrCF,QAAQ,CAAC;MAACG,IAAI,EAAC;IAAoB,CAAC,CAAC;IACrC,IAAG;MACC,MAAMC,GAAG,GAAG,MAAMvB,KAAK,CAACwB,GAAG,CAACH,GAAG,CAAC;MAChC,MAAMN,aAAa,GAAG,MAAMQ,GAAG,CAACE,IAAI;MACpCN,QAAQ,CAAC;QAACG,IAAI,EAAC,yBAAyB;QAAEI,OAAO,EAACX;MAAa,CAAC,CAAC;IACrE,CAAC,QAAMY,KAAK,EAAC;MACTR,QAAQ,CAAC;QAACG,IAAI,EAAC;MAA0B,CAAC,CAAC;IAC/C;EACH,CAAC;EAGFnB,SAAS,CAAC,MAAM;IACZiB,WAAW,CAACb,GAAG,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EACP,oBACE,QAAC,UAAU,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAC,GAAGW,KAAK;MAAEU;IAAgB,CAAE;IAAA,UAAEX;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAuB;AAEhG,CAAC;;AAED;AAAA,GArCMD,WAAW;AAAA,KAAXA,WAAW;AAsCjB,MAAMa,iBAAiB,GAAG,MAAK;EAAA;EAE3B,OAAQvB,UAAU,CAACE,UAAU,CAAC;AAClC,CAAC;AAAA,IAHKqB,iBAAiB;AAM3B,SAAQb,WAAW,EAACR,UAAU,EAACqB,iBAAiB;AAAG;AAAA"},"metadata":{},"sourceType":"module"}